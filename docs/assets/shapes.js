(function(a){var b=function(a){this.done=!1,this.completes=[],this.countTotal=0,this.countCurrent=0,this.svg=a.svg,this.atts=a.atts,this.once=a.once||!1,this.points=a.points||2,this.random=a.random||!1,this.infinite=a.infinite||!1,this.nameSpace='http://www.w3.org/2000/svg',this.xMin=function(){return 0},this.yMin=function(){return 0},this.xMax=function(){return this.svg.width.baseVal.value},this.yMax=function(){return this.svg.height.baseVal.value},this.element=document.createElementNS(this.nameSpace,'path'),Object.keys(this.atts).forEach(function(a){this.element.setAttribute(a,this.atts[a])},this),this.svg.appendChild(this.element),this.random?(this.source=this.randomArguments(),this.target=this.randomArguments()):(this.source='string'==typeof a.source?this.toPath(a.source):a.source,this.target='string'==typeof a.target?this.toPath(a.target):a.target)};return b.prototype.setSource=function(a){this.source=a||this.randomArguments()},b.prototype.setTarget=function(a){this.target=a||this.randomArguments()},b.prototype.randomNumber=function(a,b){var c=Math.floor;return a=Math.ceil(a),b=c(b),c(Math.random()*(b-a+1))+a},b.prototype.randomArgument=function(a,b){for(var c=[a],d=0;d<b;d++)c.push(this.randomNumber(this.xMin(),this.xMax()),this.randomNumber(this.yMin(),this.yMax()));return c},b.prototype.randomArguments=function(){for(var a=['M',this.randomNumber(this.xMin(),this.xMax()/2),this.randomNumber(this.yMin(),this.yMax()/2)],b=0;b<this.points-1;b++)a=a.concat(this.randomArgument('C',3),this.randomArgument('S',2));return a.push('Z'),a},b.prototype.step=function(){var a=0,b=this.target.length;if(!this.done){this.inited&&(this.inited=!0,this.target.length>this.source.length?this.source.push.apply(this.source,this.target.slice(this.source.length-1)):this.target.length<this.source.length&&(this.source.length=this.target.length));for(var c=0,d=d=this.source.length;c<d;c++)'string'==typeof this.source[c]||this.source[c]===this.target[c]?(a++,this.infinite&&a===d?this.setTarget():this.done=a===d):this.source[c]<this.target[c]?this.source[c]++:this.source[c]>this.target[c]&&this.source[c]--}},b.prototype.formatPath=function(a){return a.replace(/([a-z])/ig,' $1 ').replace(/(\d)-/g,'$1 -').replace(/-\./g,'-0.').replace(/\d+\.\d+(\.\d+)+/g,function(a){var b=a.split('.');return b.slice(0,2).join('.')+b.slice(1).join(' 0.')})},b.prototype.toPath=function(a){return this.formatPath(a).split(' ').map(function(a){return /\d+/.test(a)?parseFloat(a):a})},b.prototype.render=function(){this.element.setAttribute('d',this.source.join(' '))},a.Shapes=b})(this);